<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Akka FSM Pattern</title>
    <meta name="description" content="" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://thanhphamvan.github.io/favicon.ico">

    <link rel="stylesheet" type="text/css" href="//thanhphamvan.github.io/themes/casper/assets/css/screen.css?v=1501049902509" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />

    <link rel="canonical" href="https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html" />
    <meta name="referrer" content="origin" />
    
    <meta property="og:site_name" content="Personal blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Akka FSM Pattern" />
    <meta property="og:description" content="FSM !&#x3D; Flying Spaghetti Monster FSM (viết tắt của Finite-state machine) là một pattern phổ biến trong lập trình game. Có thể hiểu ý tưởng ngắn gọn về FSM là: State(S) ! Event(E) &amp;#8594; State(S&#x27;), Action(A) Tức là: Tại trạng thái S, sự kiện E xảy ra. Điều" />
    <meta property="og:url" content="https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html" />
    <meta property="article:published_time" content="2017-07-26T00:00:00.000Z" />
    <meta property="article:tag" content="Scala" />
    <meta property="article:tag" content="Akka" />
    <meta property="article:tag" content="Pattern" />
    <meta property="article:tag" content="FSM" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Akka FSM Pattern" />
    <meta name="twitter:description" content="FSM !&#x3D; Flying Spaghetti Monster FSM (viết tắt của Finite-state machine) là một pattern phổ biến trong lập trình game. Có thể hiểu ý tưởng ngắn gọn về FSM là: State(S) ! Event(E) &amp;#8594; State(S&#x27;), Action(A) Tức là: Tại trạng thái S, sự kiện E xảy ra. Điều" />
    <meta name="twitter:url" content="https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html" />
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Personal blog",
    "author": {
        "@type": "Person",
        "name": "Thanh Pham Van",
        "image": "https://avatars0.githubusercontent.com/u/17200722?v=4",
        "url": "https://thanhphamvan.github.io/author/thanhphamvan/",
        "sameAs": "blog.hamic.club",
        "description": "Junior Scala-Akka-Play developer. Sophomore student at HUS-VNU."
    },
    "headline": "Akka FSM Pattern",
    "url": "https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html",
    "datePublished": "2017-07-26T00:00:00.000Z",
    "keywords": "Scala, Akka, Pattern, FSM",
    "description": "FSM !&#x3D; Flying Spaghetti Monster FSM (viết tắt của Finite-state machine) là một pattern phổ biến trong lập trình game. Có thể hiểu ý tưởng ngắn gọn về FSM là: State(S) ! Event(E) &amp;#8594; State(S&#x27;), Action(A) Tức là: Tại trạng thái S, sự kiện E xảy ra. Điều"
}
    </script>

    <meta name="generator" content="HubPress" />
    <link rel="alternate" type="application/rss+xml" title="Personal blog" href="https://thanhphamvan.github.io/rss/" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/atom-one-dark.min.css">
</head>
<body class="post-template tag-Scala tag-Akka tag-Pattern tag-FSM nav-closed">

    

    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-Scala tag-Akka tag-Pattern tag-FSM">

        <header class="post-header">
            <h1 class="post-title">Akka FSM Pattern</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2017-07-26">26 July 2017</time>  on <a href="https://thanhphamvan.github.io/tag/Scala/">Scala</a>, <a href="https://thanhphamvan.github.io/tag/Akka/">Akka</a>, <a href="https://thanhphamvan.github.io/tag/Pattern/">Pattern</a>, <a href="https://thanhphamvan.github.io/tag/FSM/">FSM</a>
            </section>
        </header>

        <section class="post-content">
            <div class="sect2">
<h3 id="_fsm_flying_spaghetti_monster">FSM != Flying Spaghetti Monster</h3>
<div class="paragraph">
<p>FSM (viết tắt của Finite-state machine) là một pattern phổ biến trong lập trình game.</p>
</div>
<div class="paragraph">
<p>Có thể hiểu ý tưởng ngắn gọn về FSM là:</p>
</div>
<div class="paragraph">
<p><code>State(S) ! Event(E) &#8594; State(S'), Action(A)</code></p>
</div>
<div class="paragraph">
<p>Tức là: Tại trạng thái S, sự kiện E xảy ra. Điều này dẫn đến trại thái chuyển về S' và thực hiện hành động A</p>
</div>
<div class="paragraph">
<p>Pattern này khá phổ biến với Java (guide trên <a href="https://www.tutorialspoint.com/design_pattern/state_pattern.htm">TP</a>).</p>
</div>
<div class="paragraph">
<p>Với Scala, Akka cũng đã tích hợp FSM từ những build rất sớm.</p>
</div>
<div class="paragraph">
<p>Mục tiệu của bài viết là giới thiệu cho người đọc về FSM pattern cũng như một số cái "hay ho" của Scala (ngôn ngữ mình ghét ít thứ nhì sau C#).</p>
</div>
</div>
<div class="sect2">
<h3 id="_ph_n_t_ch_v_thi_t_k">Phân tích và thiết kế</h3>
<div class="paragraph">
<p>Để đơn giản và dễ hình dung nhất. Chúng ta sẽ mô phỏng lại 1 cách cửa có khả năng tự đóng lại sau khi mở ra.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Liệt kê những trại thái có thể có.</p>
<div class="ulist">
<ul>
<li>
<p>Đóng (Closed)</p>
</li>
<li>
<p>Mở (Opened)</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Phức tạp hơn, các bạn có thêm trạng thái Giữ lại (Held)</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dữ liệu được truyền giữa các trại thái (StateData)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Well, với object là một cái cửa thì chúng ta không có nhiều lắm thông tin cần lưu trữ lại.</p>
</div>
<div class="paragraph">
<p>Ví dụ về StateData có thể áp dụng khi mà chúng ta muốn lập trình một cánh cửa có khả năng đưa ra số người trong phòng bằng cách đếm số người ra/vào chẳng hạn. Khi đó StateData sẽ là một số Int tăng giảm tuỳ vào Event.</p>
</div>
<div class="paragraph">
<p>Trong trường hợp này, mình sẽ lấy ví dụ với cách cửa có kèm theo bộ đếm số lần mở cửa. Con số này sẽ chỉ tăng mà không giảm đi.</p>
</div>
</div>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="https://thanhphamvan.github.io/author/thanhphamvan/" style="background-image: url(https://avatars0.githubusercontent.com/u/17200722?v&#x3D;4)"><span class="hidden">Thanh Pham Van's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="https://thanhphamvan.github.io/author/thanhphamvan/">Thanh Pham Van</a></h4>

                    <p>Junior Scala-Akka-Play developer. Sophomore student at HUS-VNU.</p>
                <div class="author-meta">
                    <span class="author-location icon-location">Hanoi, Vietnam</span>
                    <span class="author-link icon-link"><a href="blog.hamic.club">blog.hamic.club</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Akka%20FSM%20Pattern&amp;url=https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html"
                    onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://thanhphamvan.github.io/2017/07/26/Akka-FSM-Pattern.html"
                   onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>

<aside class="read-next">
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="https://thanhphamvan.github.io">Personal blog</a> &copy; 2017</section>
            <section class="poweredby">Proudly published with <a href="http://hubpress.io">HubPress</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment-with-locales.min.js?v="></script> <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js?v="></script> 
      <script type="text/javascript">
        jQuery( document ).ready(function() {
          // change date with ago
          jQuery('ago.ago').each(function(){
            var element = jQuery(this).parent();
            element.html( moment(element.text()).fromNow());
          });
        });

        hljs.initHighlightingOnLoad();
      </script>
       
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

    <script type="text/javascript" src="//thanhphamvan.github.io/themes/casper/assets/js/jquery.fitvids.js?v=1501049902509"></script>
    <script type="text/javascript" src="//thanhphamvan.github.io/themes/casper/assets/js/index.js?v=1501049902509"></script>

</body>
</html>
